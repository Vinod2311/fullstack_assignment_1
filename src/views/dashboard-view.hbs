{{> menu active="dashboard"}}

<h1 class="ui small center aligned icon header">
    <i class="violet user icon"></i>
    Welcome {{user.firstName}}
</h1>
<h1 class="ui center aligned header">
    <a href="/user">
        <button class="ui green button">Edit Your Personal Details</button>
    </a>
</h1>

<div id="myMap" style="height: 500px; width: 1500px;">
<script>
    let myMap = L.map('myMap').setView([53.340233, -6.276553], 7);
    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1Ijoidmlub2QyMyIsImEiOiJja3Q3OWNqamowcTI0MnVxbGgxNTRhNmRsIn0.CqBpoAYTmGEFwggFfq-J5A', {
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
        maxZoom: 18,
        id: 'mapbox/streets-v11',
        tileSize: 512,
        zoomOffset: -1,
        accessToken: 'pk.eyJ1Ijoidmlub2QyMyIsImEiOiJja3Q3OWNqamowcTI0MnVxbGgxNTRhNmRsIn0.CqBpoAYTmGEFwggFfq-J5A'
    }).addTo(myMap);
    let i = 0;
    let marker = [];
        {{#each locations}}
        marker.push(L.marker([{{latitude}}, {{longitude}}]).addTo(myMap));
        marker[i].bindPopup(" {{name}} <br>"+ "<a href='/location/{{name}}'>More Info</a>")
        i++;
        {{/each}}

</script>
</div>

{{> add-location}}
